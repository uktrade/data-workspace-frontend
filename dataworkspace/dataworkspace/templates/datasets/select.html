{% with id=widget.attrs.id %}
<div class="govuk-form-group {% if widget.form_group_extra_css %}{{ widget.form_group_extra_css }}{% endif %}">
  <label class="govuk-label" for="{{ id }}" style="display: inline">
    {{ widget.label }}
  </label>

  <select
    class="govuk-select govuk-!-margin-left-2"
    name="{{ widget.name }}"
    {% include "django/forms/widgets/attrs.html" %}
    {% include "design_system/partial/data_attributes.html" %}
  >
    {% for group_name, group_choices, group_index in widget.optgroups %}
      {% if group_name %}
        <optgroup label="{{ group_name }}">
      {% endif %}
      {% for option in group_choices %}
        {% include option.template_name with widget=option %}
      {% endfor %}
      {% if group_name %}
        </optgroup>
      {% endif %}
    {% endfor %}
  </select>
</div>
{% endwith %}
